(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),s=a.n(c),l=a(2),o=a.n(l),i=a(3),m=a(1),u=(a(13),function(e){var t=e.name,a=e.email,n=e.address;return r.a.createElement("div",{className:"post__author"},r.a.createElement("p",null,t),r.a.createElement("p",null,a),r.a.createElement("p",null,"".concat(n.city,", ").concat(n.street," st., ").concat(n.suite)))}),p=function(e){var t=e.name,a=e.body,n=e.email;return r.a.createElement("section",{className:"comment"},r.a.createElement("h3",{className:"comment__title"},t),r.a.createElement("span",{className:"comment__email"},n),r.a.createElement("p",{className:"comment__body"},a))},f=function(e){var t=e.comments;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"post__comments-num"},"Comments (",t.length,"):"),r.a.createElement("ul",{className:"post__comments"},t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(p,e))}))))},d=function(e){var t=e.title,a=e.body,n=e.author,c=e.comments;return r.a.createElement("section",{className:"post"},r.a.createElement("h2",{className:"post__title"},t),r.a.createElement("p",{className:"post__body"},a),!!n&&r.a.createElement(u,n),r.a.createElement(f,{comments:c}))},b=function(e){var t=e.posts;return r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(d,e))})))},E=a(6),h=a.n(E),y=function(e){var t=e.initialPosts,a=e.setPosts,c=Object(n.useState)(""),s=Object(m.a)(c,2),l=s[0],o=s[1],i=Object(n.useCallback)(h()((function(e){a(function(e,t){var a=new RegExp(t,"i");return e.filter((function(e){var t=e.title,n=e.body;return a.test(t)||a.test(n)}))}(t,e))}),1e3),[]);return r.a.createElement("label",{className:"filter",htmlFor:"filter"},r.a.createElement("input",{id:"filter",className:"filter__input",type:"text",value:l,placeholder:"Filter by title or content",onChange:function(e){var t=e.currentTarget.value;o(t),i(t)}}))},v=function(e){var t=e.initialPosts,a=Object(n.useState)(t),c=Object(m.a)(a,2),s=c[0],l=c[1];return r.a.createElement("div",null,r.a.createElement(y,{initialPosts:t,setPosts:l}),r.a.createElement(b,{posts:s}))},_=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),l=Object(m.a)(s,2),u=l[0],p=l[1],f=Object(n.useState)(!1),d=Object(m.a)(f,2),b=d[0],E=d[1],h=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,n,r,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!1),p(!0),e.prev=2,e.next=5,Promise.all([_("https://mate-academy.github.io/react_dynamic-list-of-posts/api/posts.json"),_("https://mate-academy.github.io/react_dynamic-list-of-posts/api/users.json"),_("https://mate-academy.github.io/react_dynamic-list-of-posts/api/comments.json")]);case 5:t=e.sent,a=Object(m.a)(t,3),n=a[0],r=a[1],s=a[2],l=n.map((function(e){var t=e.userId,a=e.id,n=e.title,c=e.body;return{id:a,title:n,body:c,author:r.find((function(e){return e.id===t})),comments:s.filter((function(e){return e.postId===a}))}})),c(l),p(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),E(!0),p(!1);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"task-wrap"},r.a.createElement("h1",null,"Dynamic list of posts"),0===a.length?r.a.createElement("button",{className:"init-btn",type:"button",onClick:h,disabled:u},u&&"Loading...",b&&"Try again!",!u&&!b&&"Load"):r.a.createElement(v,{initialPosts:a}))};s.a.render(r.a.createElement(j,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.f4433571.chunk.js.map